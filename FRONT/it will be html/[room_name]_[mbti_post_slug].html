{% extends 'LAYOUT.html' %}

{% block container %}

    <br><br><br><br><br><br><br><br><br>
    <!-- 위 아래 둘 지워도 됨 (br, div)-->
    <div style="font-size: 40px;">



        <a href="."> 룸으로 돌아가기 </a>

        <p>이름: {{ mbti.mbti_name }}</p>
        <p>mbti: {{ mbti.mbti_mbti }}</p>
        <p>이미지: <img src="/images/{{ mbti.mbti_img }}" alt="{{ mbti.mbti_name }}"> </p>

        <select id="selectbox" name="selectbox" onchange="chageMBTISelect()">
            <option value="" selected disabled> MBTI 선택</option>
            {% for mbti_relationship in mbti_relationships %}
            <option value="{{ mbti_relationship.relationship }}"> {{ mbti_relationship.stakeholders }} </option>
            {% endfor %}
        </select>

        <p><span id="yourMBTI"> 당신의 MBTI(선택해 주세요!)</span>와 {{ mbti.mbti_mbti }}의 관계</p>

        <p id="mbtiRelationship"> </p>




    </div>

{% endblock %}

{% block script %}
    <script>

    // https://goodsgoods.tistory.com/249
        function chageMBTISelect() {
            let mbtiSelect = document.getElementById("selectbox");

            // select element에서 선택된 option의 value가 저장된다.
            let selectValue = mbtiSelect.options[mbtiSelect.selectedIndex].value;

            // select element에서 선택된 option의 text가 저장된다.
            let selectText = mbtiSelect.options[mbtiSelect.selectedIndex].text;

            // mbti 관계를 나타내는 문구 (default. 당신의 MBTI(선택해 주세요!)와 MBTI(이 포스트의 MBTI)의 관계) 에서 당신의 MBTI 적기
            let yourMBTI = document.getElementById("yourMBTI");
            yourMBTI.textContent = selectText;

            // MBTI 설명 띄우기
            let mbtiRelationship = document.getElementById("mbtiRelationship");
            mbtiRelationship.textContent = selectValue;
        }



    </script>
{% endblock %}